{"ast":null,"code":"import _slicedToArray from\"/Users/adamash/Documents/tinder-for-sandwiches/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import{Button}from'react-bootstrap';import NewWich from'./components/NewWich.js';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),wiches=_useState2[0],setWiches=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),wichNumber=_useState4[0],setWichNumber=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),wichText=_useState6[0],setWichText=_useState6[1];var swipeClicked=function swipeClicked(posVote){var sand_id=wiches[wichNumber]['id'];console.log('/votewich/'+sand_id+\"/\"+(posVote?\"yes\":\"no\"));fetch('/votewich/'+sand_id+\"/\"+(posVote?\"yes\":\"no\"),{method:\"PUT\"});setWichNumber(wichNumber+1);};// gets list of sandwiches\nuseEffect(function(){fetch('/getwich').then(function(response){return response.json();}).then(function(data){return setWiches(data);}).then(function(data){return console.log(data);}).catch(function(err){return console.log(err);});},[]);//updates the wich text\nuseEffect(function(){if(wiches.length>0&&wichNumber<wiches.length){var wich=wiches[wichNumber];var text=\"A \";for(var i=0;i<wich['mains'].length;i++){text+=wich['mains'][i]+\" \";if(i<wich['mains'].length-1){text+=\"and \";}}text+=\"sandwich with \";for(i=0;i<wich['condiments'].length;i++){text+=wich['condiments'][i]+\" \";if(i<wich['condiments'].length-1){text+=\"and \";}}text+=\"on \";text+=wich['bread']+\".\";setWichText(text);}});if(wiches.length===0){return/*#__PURE__*/React.createElement(\"div\",{id:\"not-loading\"});}if(wichNumber===wiches.length){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\",id:\"no-more-wiches\"},/*#__PURE__*/React.createElement(NewWich,null),/*#__PURE__*/React.createElement(\"p\",null,\"You've swiped on every sandwich! There's no more to show you. \"));}return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(NewWich,null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",null,wichText),/*#__PURE__*/React.createElement(Button,{variant:\"outline-danger\",onClick:function onClick(){return swipeClicked(false);}},\"Yucky. Swipe Left!\"),/*#__PURE__*/React.createElement(Button,{variant:\"outline-success\",onClick:function onClick(){return swipeClicked(true);}},\"I'd eat that. Swipe Right!\"));}export default App;","map":{"version":3,"sources":["/Users/adamash/Documents/tinder-for-sandwiches/frontend/src/App.js"],"names":["React","useState","useEffect","Button","NewWich","App","wiches","setWiches","wichNumber","setWichNumber","wichText","setWichText","swipeClicked","posVote","sand_id","console","log","fetch","method","then","response","json","data","catch","err","length","wich","text","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Button } from 'react-bootstrap'\nimport NewWich from './components/NewWich.js'\n\n\nfunction App() {\n\n  const [wiches, setWiches] = useState([])\n  const [wichNumber, setWichNumber] = useState(0)\n  const [wichText, setWichText] = useState(\"\")\n\n  const swipeClicked = (posVote) => {\n    const sand_id = wiches[wichNumber]['id']\n    console.log('/votewich/' + sand_id + \"/\" + (posVote ? \"yes\" : \"no\"))\n    fetch('/votewich/' + sand_id + \"/\" + (posVote ? \"yes\" : \"no\"), { method: \"PUT\" })\n    setWichNumber(wichNumber + 1)\n  }\n\n  // gets list of sandwiches\n  useEffect(() => {\n    fetch('/getwich')\n      .then(response => response.json())\n      .then(data => setWiches(data))\n      .then(data => console.log(data))\n      .catch(err => console.log(err))\n  }, [])\n\n\n  //updates the wich text\n  useEffect(() => {\n    if (wiches.length > 0 && wichNumber < wiches.length) {\n      const wich = wiches[wichNumber]\n      var text = \"A \"\n      for (var i = 0; i < wich['mains'].length; i++) {\n        text += wich['mains'][i] + \" \"\n        if (i < wich['mains'].length - 1) {\n          text += \"and \"\n        }\n      }\n      text += \"sandwich with \"\n      for (i = 0; i < wich['condiments'].length; i++) {\n        text += wich['condiments'][i] + \" \"\n        if (i < wich['condiments'].length - 1) {\n          text += \"and \"\n        }\n      }\n      text += \"on \"\n      text += wich['bread'] + \".\"\n      setWichText(text)\n    }\n  })\n\n  if (wiches.length === 0) {\n    return (\n      <div id=\"not-loading\">\n        {/* <p>Not loading. Please refresh or try again later</p> */}\n      </div>\n    )\n  }\n\n  if (wichNumber === wiches.length) {\n    return (\n      <div className=\"App\" id=\"no-more-wiches\">\n        <NewWich />\n        <p>You've swiped on every sandwich! There's no more to show you. </p>\n      </div>\n    )\n  }\n\n\n  return (\n    <div className=\"App\">\n      <NewWich />\n      <br />\n      <br />\n      <p>{wichText}</p>\n      <Button variant=\"outline-danger\" onClick={() => swipeClicked(false)}>Yucky. Swipe Left!</Button>\n      <Button variant=\"outline-success\" onClick={() => swipeClicked(true)}>I'd eat that. Swipe Right!</Button>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}